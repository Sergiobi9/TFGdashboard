<h1 style="margin-bottom: 50px;">Add new concert</h1>

<div
    style="width: 80%; background-color: white; padding: 20px; border-radius: 20px; justify-content: center; margin: auto;">

    <div style="margin: 25px">
        <h4>Descripción y fecha</h4>
        <div style="display: flex; width: 100%;">
            <div style="display: block; width: 50%;">
                <p style="margin-top: 35px;">Nombre del concierto</p>
                <input class="row-input" type="text" placeholder="Nombre del concierto" name="name" [(ngModel)]="name">
            </div>
            <div style="display: block; width: 50%;">
                <p style="margin-top: 35px;">Fecha</p>
                <div class="register-birthday-input-container">
                    <input class="birthday-input" nbInput placeholder="DD/MM/YYYY">
                </div>
            </div>

        </div>

        <div style="display: flex; width: 100%;">
            <div style="display: block; width: 50%;">
                <p style="margin-top: 35px;">Descripción</p>
                <textarea class="row-input" type="text" placeholder="Descripción de presentación" name="name"
                    style="height: 100px;" [(ngModel)]="name"></textarea>
            </div>
            <div style="display: block;  width: 50%;">
                <p style="margin-top: 35px;">Descripción extra</p>
                <textarea class="row-input" type="text" placeholder="Descripción de presentación extra" name="name"
                    style="height: 100px;" [(ngModel)]="name"></textarea>
            </div>
        </div>

        <h4 style="margin-top: 50px; margin-bottom: 25px;">Ubicación</h4>
        <div style="border-radius: 20px;width: 100%;">
            <input [(ngModel)]="address" placeholder="Buscar lugar" #search autocomplete="off" id="search"
                [formControl]="searchControl" class="row-input" style="width: 100%;">

            <agm-map [latitude]="latitude" [zoom]="zoom" [longitude]="longitude"
                style="width: 100%; height: 50vh; border-radius: 20px;">
                <agm-marker [latitude]="latitude" [longitude]="longitude"></agm-marker>
            </agm-map>
        </div>

        <h4 style="margin-top: 50px; margin-bottom: 25px;">Imagenes de la ubicación</h4>
        <p>Puedes subir hasta cuatro imagenes de la ubicación para que los usuarios puedan ver el lugar que se va a dar
            a cabo el
            concierto (opcional)</p>
        <div *ngIf="images.length == 0"
            style="width: 60%; height: 200px; border-radius: 20px; border: dotted 1px #828282; display: flex; text-align: center; margin: 35px auto 35px auto; justify-content: center; align-items: center; ">
            <fa-icon [icon]="faCloudUploadAlt" style="font-size: 40px; color: #828282; margin-right: 20px;"></fa-icon>
            <label class="register-upload-photo-text" for="choose-photo">Sube imagenes</label>
            <input type="file" id="choose-photo" multiple (change)="fileBrowseHandler($event)" />
        </div>

        <div *ngIf="images.length != 0">
            <div class="row" style="justify-content: center;">
                <div class="column" style="border-radius: 20px; margin: 0px 20px 10px 20px;">
                    <img *ngFor="let image of images" [src]="image"
                        style="width:200px; height: 150px; border-radius:20px; object-fit:cover; margin: 20px;">
                </div>
            </div>

            <div style="text-align: center;">
                <label class="register-upload-photo-text" for="choose-photo">Sube más imagenes</label>
                <input type="file" id="choose-photo" multiple (change)="fileBrowseHandler($event)" />
            </div>

        </div>

        <h4 style="margin-top: 50px; margin-bottom: 25px;">Entradas</h4>
        <div style="display: flex; width: 100%;">
            <div style="display: block; width: 50%;">
                <p style="margin-top: 35px;">Numero de entradas</p>
                <input class="row-input" type="number" placeholder="Numero de entradas" name="name" [(ngModel)]="name">
            </div>
            <div style="display: block; width: 50%;">
                <p style="margin-top: 35px;">Precio</p>
                <input class="row-input" type="number" placeholder="Precio" name="name" [(ngModel)]="name">
            </div>
        </div>
        <h4 style="margin-top: 25px; margin-bottom: 20px;">Artistas que participaran</h4>

        <input class="row-input" type="text" placeholder="Buscar artista" name="artist" [(ngModel)]="artistSearchTerm"
            (ngModelChange)="onArtistParticipatingInputChange($event)">
        <div class="row" style="justify-content: center;">
            <div class="column"
                style="border-radius: 20px; margin: 0px 20px 10px 20px; display: contents; text-align: center; max-width: 250px;">
                <div *ngFor="let artist of artists" style="margin: 20px;">
                    <div style="position: relative; cursor: pointer;" (click)="selectArtist(artist)">
                        <img [src]="artist.profileUrl" [ngStyle]="{'opacity': artist.opacity}"
                            style="width:100px; height: 100px; border-radius:50%; object-fit:cover; transition: 0.5s;">
                        <p [ngStyle]="{'font-weight': artist.opacity === 1? 500: 1000}"
                            style="transition: 0.5s; margin-top: 10px;">{{artist.artistName}}</p>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div style="text-align: center;">
        <button class="login-button" (click)="createConcert()">Crear concierto</button>
    </div>


</div>