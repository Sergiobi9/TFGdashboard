<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>Stereo</title>

  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <script defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCpVhQiwAllg1RAFaxMWSpQruuGARy0Y1k&libraries=places"></script>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">
</head>

<body>
  <ngx-app></ngx-app>

  <style>
    .container {
      display: flex;
      height: 100vh;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .loader {
      height: 100px;
      width: 100px;
    }

    .loader svg circle {
      --stroke: 0;
      fill: none;
      stroke: black;
      stroke-width: 10;
      stroke-dasharray: var(--circumference);
      stroke-dashoffset: var(--stroke);
    }

    .loading-svg {
      transform: rotate(-90deg);
    }
  </style>

  <div class="container">
    <div class="loader">
      <svg class="loading-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="40" />
      </svg>
    </div>
  </div>

</body>

<script>
  const c = document.querySelector(".loader svg circle");
  const radius = c.r.baseVal.value;
  const circumference = 2 * Math.PI * radius;
  let len = 1;
  let filling = true;
  c.style.setProperty("--circumference", circumference);

  setInterval(() => {
    if (filling) {
      len += 1;
    } else {
      len -= 1;
    }
    if (len >= circumference) {
      filling = false;
    } else if (len <= 0) {
      filling = true;
    }

    c.style.setProperty("--stroke", len);
  }, 1);
</script>

</html>